(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12611,e=>{"use strict";var s=e.i(55909),t=e.i(29342);function a({items:e,lang:a}){return(0,s.jsx)("nav",{className:"py-4 px-6 bg-slate-50 border-b border-slate-200","aria-label":"Breadcrumb navigation",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsx)("ol",{className:"flex items-center gap-2 text-sm text-slate-600",children:e.map((a,r)=>(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[r>0&&(0,s.jsx)("span",{className:"text-slate-400","aria-hidden":"true",children:"/"}),r===e.length-1?(0,s.jsx)("span",{className:"font-medium text-slate-900","aria-current":"page",children:a.name}):(0,s.jsx)(t.default,{href:a.href,className:"hover:text-blue-600 transition-colors",children:a.name})]},a.href))})})})}e.s(["Breadcrumbs",()=>a])},21007,e=>{"use strict";let s="http://localhost:8006/wp-json/sakwood/v1";async function t(){try{let e=await fetch(`${s}/dealer/tiers`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"}),t=await e.json();if(!e.ok)return{success:!1,error:t.message||"Failed to fetch dealer tiers"};let a=t.map(e=>({...e,benefits:"string"==typeof e.benefits?JSON.parse(e.benefits):e.benefits,requirements:"string"==typeof e.requirements?JSON.parse(e.requirements):e.requirements}));return{success:!0,data:a}}catch(e){return{success:!1,error:"Failed to fetch dealer tiers"}}}async function a(e){try{let t=await fetch(`${s}/dealer/status/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"}),a=await t.json();if(!t.ok)return{success:!1,error:a.message||"Application not found"};return{success:!0,data:a}}catch(e){return{success:!1,error:"Failed to fetch application status"}}}e.s(["getDealerApplicationStatus",()=>a,"getDealerTiers",()=>t])},9550,e=>{"use strict";var s=e.i(55909),t=e.i(37829),a=e.i(76423),r=e.i(29342),l=e.i(12611);e.i(52892);var i=e.i(71201),n=e.i(10273),d=e.i(21007);function c({lang:e,dictionary:c}){let{user:o,isDealer:m}=(0,n.useAuth)(),x=(0,a.useRouter)(),[u,h]=(0,t.useState)(null),[p,b]=(0,t.useState)(null),[g,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{j(!0);let e=!0;return async function(){if(e){let e=localStorage.getItem("dealer_application");if(e)try{let s=JSON.parse(e);if(s&&s.applicationId&&s.status){h(s);let e=await (0,d.getDealerApplicationStatus)(s.applicationId);e.success&&e.data&&b(e.data)}else console.error("Invalid stored application data structure"),localStorage.removeItem("dealer_application")}catch(e){console.error("Failed to parse stored application data:",e),localStorage.removeItem("dealer_application")}}}(),()=>{e=!1}},[e]);let{dealer:f,common:N}=c;if(m)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Breadcrumbs,{items:[{name:N.home,href:`/${e}`},{name:f.dashboard_title,href:`/${e}/dealer/status`}],lang:e}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:f.dashboard_title}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:f.status_approved}),(0,s.jsx)("p",{className:"text-green-700",children:f.welcome_message.replace("{name}",o?.displayName||"Dealer")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:f.my_tier}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:o?.dealerInfo?.tierName?f[`tier_${o.dealerInfo.tierName}`]:"N/A"})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:f.my_discount}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:o?.dealerInfo?.discountPercentage?`${o.dealerInfo.discountPercentage}%`:"N/A"})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:f.min_order_amount}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:o?.dealerInfo?.minOrderAmount?`${o.dealerInfo.minOrderAmount.toLocaleString()} THB`:"N/A"})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:f.min_order_quantity}),(0,s.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:[o?.dealerInfo?.minOrderQuantity||"N/A"," units"]})]})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(r.default,{href:`/${e}/shop`,className:"inline-block px-6 py-3 bg-blue-900 text-white font-bold hover:bg-blue-800 transition-all rounded",children:f.pricing_title})})]})})})]});if(!u&&!m)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Breadcrumbs,{items:[{name:N.home,href:`/${e}`},{name:f.status_title,href:`/${e}/dealer/status`}],lang:e}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("svg",{className:"mx-auto h-16 w-16 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,s.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"No Dealer Application Found"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-blue-800 text-sm",children:o?(0,s.jsxs)(s.Fragment,{children:["Hello ",(0,s.jsx)("strong",{children:o.displayName||o.firstName}),", you haven't submitted a dealer application yet."]}):"You need to login to view your dealer application status."})}),o&&(0,s.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-gray-700 text-sm font-medium mb-2",children:"Ready to become a dealer? Get exclusive benefits:"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"✨ Silver: 20% discount, 50k THB min order"}),(0,s.jsx)("li",{children:"✨ Gold: 25% discount, 100k THB min order"}),(0,s.jsx)("li",{children:"✨ Platinum: 30% discount, 200k THB min order"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[o?(0,s.jsx)(r.default,{href:`/${e}/dealer/apply`,className:"flex-1",children:(0,s.jsx)(i.Button,{variant:"primary",size:"lg",className:"w-full",children:"Apply for Dealer Status"})}):(0,s.jsx)(i.Button,{variant:"primary",size:"lg",className:"w-full",onClick:()=>x.push(`/${e}/login`),children:"Login to View Status"}),(0,s.jsx)(i.Button,{variant:"secondary",size:"lg",className:"flex-1",onClick:()=>x.push(`/${e}`),children:"Back to Home"})]})]})]})})})]});let y=p?.status||u?.status||"pending",v=[{name:N.home,href:`/${e}`},{name:f.status_title,href:`/${e}/dealer/status`}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Breadcrumbs,{items:v,lang:e}),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:f.status_title}),(0,s.jsx)("div",{className:`border rounded-lg p-6 mb-6 ${(()=>{switch(y){case"pending":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"approved":case"active":return"bg-green-50 border-green-200 text-green-800";case"rejected":return"bg-red-50 border-red-200 text-red-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()}`,role:"status","aria-live":"polite","aria-label":`Application status: ${y}`,children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex-shrink-0",children:["pending"===y&&(0,s.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),("approved"===y||"active"===y)&&(0,s.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"rejected"===y&&(0,s.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:(()=>{switch(y){case"pending":return f.status_pending;case"approved":case"active":return f.status_approved;case"rejected":return f.status_rejected;default:return f.status_title}})()}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"pending"===y&&f.status_pending_desc})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[f.application_id,":"]}),(0,s.jsx)("span",{className:"text-gray-900 font-semibold",children:p?.applicationId||u?.applicationId})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[f.business_name,":"]}),(0,s.jsx)("span",{className:"text-gray-900 font-semibold",children:p?.businessName||u?.businessName})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[f.submitted_date,":"]}),(0,s.jsx)("span",{className:"text-gray-900",children:p?.submittedDate||u?.submittedDate?new Date(p?.submittedDate||u?.submittedDate).toLocaleDateString():"N/A"})]}),p?.reviewedDate&&(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[f.reviewed_date,":"]}),(0,s.jsx)("span",{className:"text-gray-900",children:new Date(p.reviewedDate).toLocaleDateString()})]}),p?.assignedTier&&(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[f.assigned_tier,":"]}),(0,s.jsx)("span",{className:"text-gray-900 font-semibold",children:p.assignedTier})]}),p?.assignedTerritories&&p.assignedTerritories.length>0&&(0,s.jsxs)("div",{className:"py-3 border-b",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium block mb-2",children:[f.assigned_territories,":"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:p.assignedTerritories.map((e,t)=>(0,s.jsx)("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),p?.adminNotes&&(0,s.jsxs)("div",{className:"py-3",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium block mb-2",children:[f.admin_notes,":"]}),(0,s.jsx)("p",{className:"text-gray-900 bg-gray-50 p-3 rounded",children:p.adminNotes})]})]}),(0,s.jsxs)("div",{className:"mt-8 space-y-3",children:["pending"===y&&(0,s.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"We will review your application and get back to you within 3-5 business days."}),("approved"===y||"active"===y)&&(0,s.jsx)(r.default,{href:`/${e}/shop`,className:"block w-full px-6 py-4 bg-blue-900 text-white font-bold hover:bg-blue-800 transition-all rounded text-center",children:f.pricing_title}),"rejected"===y&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"You can reapply after 90 days from the submission date."}),(0,s.jsx)(r.default,{href:`/${e}/dealer/apply`,className:"inline-block px-6 py-3 border border-blue-900 text-blue-900 font-bold hover:bg-blue-50 transition-all rounded",children:f.reapply_button})]}),(0,s.jsx)(r.default,{href:`/${e}/account`,className:"block text-center text-blue-600 hover:text-blue-800 font-semibold",children:"← Back to Account"})]})]})})})]})}e.s(["DealerStatusPage",()=>c])}]);