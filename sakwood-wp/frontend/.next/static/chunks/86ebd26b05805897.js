(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79811,e=>{"use strict";let r=(0,e.i(88610).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>r],79811)},99339,49146,e=>{"use strict";var r=e.i(88610);let t=(0,r.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],99339);let s=(0,r.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>s],49146)},10003,e=>{"use strict";var r=e.i(55909),t=e.i(37829),s=e.i(76423);async function a(e=1,r=10,t=""){try{let s=new URLSearchParams({page:e.toString(),per_page:r.toString()});t&&s.append("status",t);let a=await fetch(`/api/customer-orders?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));return console.error("[CustomerOrderService] Failed to fetch orders:",e),{orders:[],total:0,page:1,per_page:10,total_pages:0}}return await a.json()}catch(e){return console.error("[CustomerOrderService] Error fetching orders:",e),{orders:[],total:0,page:1,per_page:10,total_pages:0}}}var d=e.i(99339);let l=(0,e.i(88610).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var n=e.i(49146),o=e.i(79811);function i({lang:e,dictionary:i}){let c=(0,s.useRouter)(),[h,x]=(0,t.useState)([]),[g,m]=(0,t.useState)(!0),[p,u]=(0,t.useState)(null),[y,b]=(0,t.useState)(1),[f,j]=(0,t.useState)(0),[v,N]=(0,t.useState)(0),w=async e=>{m(!0),u(null);try{let r=await a(e,10);x(r.orders),j(r.total_pages),N(r.total),0===r.orders.length&&1===e&&u(i.account?.no_orders||"No orders found")}catch(e){console.error("Error fetching orders:",e),u(i.account?.error_loading_orders||"Failed to load orders")}finally{m(!1)}};return((0,t.useEffect)(()=>{w(y)},[y]),g&&0===h.length)?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,r.jsx)("p",{className:"text-gray-600",children:i.account?.loading_orders||"Loading your orders..."})]})}):p&&0===h.length?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,r.jsx)(d.Package,{className:"w-16 h-16 text-gray-300"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i.account?.no_orders||"No orders yet"}),(0,r.jsx)("p",{className:"text-gray-600 text-center max-w-md",children:p}),(0,r.jsx)("button",{onClick:()=>c.push(`/${e}/shop`),className:"mt-4 inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:i.account?.start_shopping||"Start Shopping"})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[v>0&&(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[i.account?.total_orders||"Total Orders",": ",(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:v})]})})})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:h.map(t=>{var s,a;return(0,r.jsx)("div",{onClick:()=>{var r;return r=t.id,void c.push(`/${e}/account/orders/${r}`)},className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.Package,{className:"w-6 h-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[i.account?.order||"Order"," #",t.id]}),(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",processing:"bg-blue-100 text-blue-800 border-blue-200","on-hold":"bg-orange-100 text-orange-800 border-orange-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",refunded:"bg-purple-100 text-purple-800 border-purple-200",failed:"bg-red-100 text-red-800 border-red-200"}[t.status]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:(s=t.status,({pending:{th:"รอดำเนินการ",en:"Pending"},processing:{th:"กำลังดำเนินการ",en:"Processing"},"on-hold":{th:"ระงับชั่วคราว",en:"On Hold"},completed:{th:"เสร็จสิ้น",en:"Completed"},cancelled:{th:"ยกเลิก",en:"Cancelled"},refunded:{th:"คืนเงินแล้ว",en:"Refunded"},failed:{th:"ล้มเหลว",en:"Failed"}})[s]?.[e]||s)})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(l,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:new Date(t.date_created).toLocaleDateString("th"===e?"th-TH":"en-US")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(d.Package,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[t.items_count," ",i.account?.items||"items"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(n.CreditCard,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:(a=t.payment_status,({paid:{th:"ชำระแล้ว",en:"Paid"},pending:{th:"รอชำระเงิน",en:"Pending"},unpaid:{th:"ยังไม่ชำระ",en:"Unpaid"}})[a]?.[e]||a)})]})]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 sm:border-l sm:pl-6 sm:border-gray-200",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:i.account?.total||"Total"}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:t.total_formatted})]}),(0,r.jsx)(o.ChevronRight,{className:"w-5 h-5 text-gray-400"})]})]})},t.id)})}),f>1&&(0,r.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.account?.previous||"Previous"}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[i.account?.page||"Page"," ",y," ",i.account?.of||"of"," ",f]}),(0,r.jsx)("button",{onClick:()=>b(e=>Math.min(f,e+1)),disabled:y===f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.account?.next||"Next"})]})})]})]})}e.s(["OrdersList",()=>i],10003)}]);