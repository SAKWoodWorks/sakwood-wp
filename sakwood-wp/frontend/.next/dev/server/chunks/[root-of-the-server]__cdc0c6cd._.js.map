{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/Works/Web/sakwood/sakwood-wp/frontend/app/api/customer-crm/tasks/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nconst WORDPRESS_API_URL = process.env.WORDPRESS_API_URL || 'http://localhost:8006/wp-json';\n\nexport async function GET(request: Request) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const userId = searchParams.get('user_id');\n    const cookieHeader = request.headers.get('cookie') || '';\n\n    // Build WordPress URL with user_id if provided\n    const wpUrl = userId\n      ? `${WORDPRESS_API_URL}/sakwood/v1/customer/crm/tasks?user_id=${userId}`\n      : `${WORDPRESS_API_URL}/sakwood/v1/customer/crm/tasks`;\n\n    const response = await fetch(wpUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Cookie': cookieHeader,\n      },\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return NextResponse.json(\n        { tasks: [], error: errorData.message || 'Failed to fetch tasks' },\n        { status: response.status }\n      );\n    }\n\n    const data = await response.json();\n    return NextResponse.json(data);\n  } catch (error) {\n    return NextResponse.json(\n      { tasks: [], error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB,IAAI;AAEpD,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,SAAS,aAAa,GAAG,CAAC;QAChC,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;QAEtD,+CAA+C;QAC/C,MAAM,QAAQ,SACV,GAAG,kBAAkB,uCAAuC,EAAE,QAAQ,GACtE,GAAG,kBAAkB,8BAA8B,CAAC;QAExD,MAAM,WAAW,MAAM,MAAM,OAAO;YAClC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,UAAU;YACZ;YACA,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,OAAO,6KAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,EAAE;gBAAE,OAAO,UAAU,OAAO,IAAI;YAAwB,GACjE;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAE9B;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,6KAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO,6KAAY,CAAC,IAAI,CACtB;YAAE,OAAO,EAAE;YAAE,OAAO;QAAwB,GAC5C;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}