{"version":3,"sources":["../../../../../../sakwood-wp/frontend/components/layout/Breadcrumbs.tsx","../../../../../../sakwood-wp/frontend/lib/services/dealerService.ts","../../../../../../sakwood-wp/frontend/app/%5Blang%5D/dealer/status/DealerStatusPage.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport type { Locale } from '@/i18n-config';\r\n\r\nexport interface BreadcrumbItem {\r\n  name: string;\r\n  href: string;\r\n}\r\n\r\ninterface BreadcrumbsProps {\r\n  items: BreadcrumbItem[];\r\n  lang: Locale;\r\n}\r\n\r\nexport function Breadcrumbs({ items, lang }: BreadcrumbsProps) {\r\n  return (\r\n    <nav className=\"py-4 px-6 bg-slate-50 border-b border-slate-200\" aria-label=\"Breadcrumb navigation\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <ol className=\"flex items-center gap-2 text-sm text-slate-600\">\r\n          {items.map((item, index) => (\r\n            <li key={item.href} className=\"flex items-center gap-2\">\r\n              {index > 0 && (\r\n                <span className=\"text-slate-400\" aria-hidden=\"true\">/</span>\r\n              )}\r\n              {index === items.length - 1 ? (\r\n                <span className=\"font-medium text-slate-900\" aria-current=\"page\">\r\n                  {item.name}\r\n                </span>\r\n              ) : (\r\n                <Link \r\n                  href={item.href} \r\n                  className=\"hover:text-blue-600 transition-colors\"\r\n                >\r\n                  {item.name}\r\n                </Link>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","/**\n * Dealer Service\n * Handles dealer-related API calls\n */\n\nconst WORDPRESS_API_URL = process.env.NEXT_PUBLIC_WORDPRESS_API_URL || 'http://localhost:8006/wp-json/sakwood/v1';\n\n// Types\nexport type DealerTier = 'silver' | 'gold' | 'platinum';\n\nexport interface DealerTierInfo {\n  id: number;\n  tier_name: DealerTier;\n  discount_percentage: number;\n  min_order_amount: number;\n  min_order_quantity: number;\n  credit_multiplier: number;\n  benefits: string[];\n  requirements: string[];\n  is_active: boolean;\n}\n\nexport interface DealerApplication {\n  id: number;\n  user_id: number;\n  application_id: string;\n  current_wholesale_status: string;\n  requested_tier_id: number;\n  business_registration: string;\n  storage_facility: string;\n  delivery_vehicles: string;\n  sales_capacity: number;\n  dealer_experience: string;\n  requested_territories: string;\n  trade_references: string;\n  business_references: string;\n  status: 'pending' | 'approved' | 'rejected' | 'active';\n  assigned_territories: string;\n  admin_notes: string;\n  submitted_date: string;\n  reviewed_date: string | null;\n}\n\nexport interface DealerInfo {\n  tierId: number;\n  tierName: DealerTier;\n  discountPercentage: number;\n  minOrderAmount: number;\n  minOrderQuantity: number;\n  territories: DealerTerritory[];\n  status: string;\n}\n\nexport interface DealerTerritory {\n  id: number;\n  dealer_id: number;\n  user_id: number;\n  province: string;\n  district: string | null;\n  is_exclusive: boolean;\n  assigned_date: string;\n  expiry_date: string | null;\n}\n\nexport interface DealerOrder {\n  id: number;\n  user_id: number;\n  order_id: number;\n  dealer_tier_id: number;\n  order_total: number;\n  discount_amount: number;\n  discount_percentage: number;\n  created_at: string;\n}\n\nexport interface DealerApplicationRequest {\n  requestedTier: number;\n  businessRegistration?: string;\n  storageFacility: string;\n  deliveryVehicles: string;\n  salesCapacity: string;\n  dealerExperience: string;\n  requestedTerritories: string[];\n  tradeReferences?: TradeReference[];\n  businessReferences?: BusinessReference[];\n}\n\nexport interface TradeReference {\n  company: string;\n  contact: string;\n  relationship: string;\n}\n\nexport interface BusinessReference {\n  company: string;\n  contact: string;\n  accountValue: string;\n}\n\n// API Methods\n\n/**\n * Get all available dealer tiers\n */\nexport async function getDealerTiers(): Promise<{ success: boolean; data?: DealerTierInfo[]; error?: string }> {\n  try {\n    const response = await fetch(`${WORDPRESS_API_URL}/dealer/tiers`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.message || 'Failed to fetch dealer tiers' };\n    }\n\n    // Parse JSON strings for benefits and requirements\n    const tiers = data.map((tier: DealerTierInfo) => ({\n      ...tier,\n      benefits: typeof tier.benefits === 'string' ? JSON.parse(tier.benefits) : tier.benefits,\n      requirements: typeof tier.requirements === 'string' ? JSON.parse(tier.requirements) : tier.requirements,\n    }));\n\n    return { success: true, data: tiers };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch dealer tiers' };\n  }\n}\n\n/**\n * Get current user's dealer info\n */\nexport async function getDealerInfo(userId?: number): Promise<{ success: boolean; data?: DealerInfo; error?: string }> {\n  try {\n    const url = userId ? `/api/dealer/info?user_id=${userId}` : '/api/dealer/info';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.error || 'Failed to fetch dealer info' };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch dealer info' };\n  }\n}\n\n/**\n * Get dealer application status by application ID\n */\nexport async function getDealerApplicationStatus(applicationId: string): Promise<{ success: boolean; data?: DealerApplication; error?: string }> {\n  try {\n    const response = await fetch(`${WORDPRESS_API_URL}/dealer/status/${applicationId}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.message || 'Application not found' };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch application status' };\n  }\n}\n\n/**\n * Get dealer territories\n */\nexport async function getDealerTerritories(userId?: number): Promise<{ success: boolean; data?: DealerTerritory[]; error?: string }> {\n  try {\n    const url = userId ? `/api/dealer/territories?user_id=${userId}` : '/api/dealer/territories';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.error || 'Failed to fetch territories' };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch territories' };\n  }\n}\n\n/**\n * Get dealer order history\n */\nexport async function getDealerOrders(userId?: number, limit = 20): Promise<{ success: boolean; data?: DealerOrder[]; error?: string }> {\n  try {\n    const url = userId\n      ? `/api/dealer/orders?user_id=${userId}&limit=${limit}`\n      : `/api/dealer/orders?limit=${limit}`;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.error || 'Failed to fetch orders' };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch orders' };\n  }\n}\n\n/**\n * Check if territory is available (admin only)\n */\nexport async function isTerritoryAvailable(province: string, excludeDealerId?: number): Promise<{ success: boolean; available?: boolean; error?: string }> {\n  try {\n    const params = new URLSearchParams({ province });\n    if (excludeDealerId) params.append('exclude_dealer_id', excludeDealerId.toString());\n\n    const response = await fetch(`${WORDPRESS_API_URL}/dealer/check-territory?${params}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n      cache: 'no-store',\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return { success: false, error: data.error || 'Failed to check territory' };\n    }\n\n    return { success: true, available: data.available };\n  } catch (error) {\n    return { success: false, error: 'Failed to check territory' };\n  }\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport type { Locale } from '@/i18n-config';\nimport { Breadcrumbs } from '@/components/layout/Breadcrumbs';\nimport { Button } from '@/components/ui';\nimport { useAuth } from '@/lib/context/AuthContext';\nimport { getDealerApplicationStatus } from '@/lib/services/dealerService';\nimport type { Dictionary } from '@/lib/types/dictionary';\n\ninterface DealerStatusPageProps {\n  lang: Locale;\n  dictionary: Dictionary;\n}\n\ninterface ApplicationData {\n  status: string;\n  applicationId: string;\n  submittedDate: string;\n  businessName: string;\n}\n\nexport function DealerStatusPage({ lang, dictionary }: DealerStatusPageProps) {\n  const { user, isDealer } = useAuth();\n  const router = useRouter();\n  const [applicationData, setApplicationData] = useState<ApplicationData | null>(null);\n  const [apiData, setApiData] = useState<any>(null);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    let isMounted = true;\n\n    async function loadData() {\n      if (isMounted) {\n        // Load application data from localStorage\n        const stored = localStorage.getItem('dealer_application');\n        if (stored) {\n          try {\n            const data = JSON.parse(stored);\n            // Validate data structure\n            if (data && data.applicationId && data.status) {\n              setApplicationData(data);\n\n              // Fetch fresh data from API\n              const result = await getDealerApplicationStatus(data.applicationId);\n              if (result.success && result.data) {\n                setApiData(result.data);\n              }\n            } else {\n              console.error('Invalid stored application data structure');\n              localStorage.removeItem('dealer_application');\n            }\n          } catch (error) {\n            console.error('Failed to parse stored application data:', error);\n            localStorage.removeItem('dealer_application');\n          }\n        }\n      }\n    }\n    loadData();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [lang]);\n\n  const { dealer, common } = dictionary;\n\n  // If already a dealer, show dealer dashboard (simplified for now)\n  if (isDealer) {\n    return (\n      <>\n        <Breadcrumbs\n          items={[\n            { name: common.home, href: `/${lang}` },\n            { name: dealer.dashboard_title, href: `/${lang}/dealer/status` },\n          ]}\n          lang={lang}\n        />\n        <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-white rounded-lg shadow-md p-8\">\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\n                {dealer.dashboard_title}\n              </h1>\n\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-6 mb-6\">\n                <h2 className=\"text-xl font-semibold text-green-800 mb-2\">\n                  {dealer.status_approved}\n                </h2>\n                <p className=\"text-green-700\">\n                  {dealer.welcome_message.replace('{name}', user?.displayName || 'Dealer')}\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"border rounded-lg p-4\">\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">{dealer.my_tier}</h3>\n                  <p className=\"text-2xl font-bold text-blue-900\">\n                    {user?.dealerInfo?.tierName ? dealer[`tier_${user.dealerInfo.tierName}` as keyof typeof dealer] : 'N/A'}\n                  </p>\n                </div>\n\n                <div className=\"border rounded-lg p-4\">\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">{dealer.my_discount}</h3>\n                  <p className=\"text-2xl font-bold text-green-600\">\n                    {user?.dealerInfo?.discountPercentage ? `${user.dealerInfo.discountPercentage}%` : 'N/A'}\n                  </p>\n                </div>\n\n                <div className=\"border rounded-lg p-4\">\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">{dealer.min_order_amount}</h3>\n                  <p className=\"text-xl font-semibold text-gray-900\">\n                    {user?.dealerInfo?.minOrderAmount\n                      ? `${user.dealerInfo.minOrderAmount.toLocaleString()} THB`\n                      : 'N/A'}\n                  </p>\n                </div>\n\n                <div className=\"border rounded-lg p-4\">\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">{dealer.min_order_quantity}</h3>\n                  <p className=\"text-xl font-semibold text-gray-900\">\n                    {user?.dealerInfo?.minOrderQuantity || 'N/A'} units\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"mt-6\">\n                <Link\n                  href={`/${lang}/shop`}\n                  className=\"inline-block px-6 py-3 bg-blue-900 text-white font-bold hover:bg-blue-800 transition-all rounded\"\n                >\n                  {dealer.pricing_title}\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  // If no application data and not a dealer, show friendly message\n  if (!applicationData && !isDealer) {\n    return (\n      <>\n        <Breadcrumbs\n          items={[\n            { name: common.home, href: `/${lang}` },\n            { name: dealer.status_title, href: `/${lang}/dealer/status` },\n          ]}\n          lang={lang}\n        />\n        <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-3xl mx-auto\">\n            <div className=\"bg-white rounded-lg shadow-md p-8\">\n              <div className=\"text-center mb-6\">\n                <svg className=\"mx-auto h-16 w-16 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <h2 className=\"mt-4 text-2xl font-bold text-gray-900\">\n                  No Dealer Application Found\n                </h2>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                  <p className=\"text-blue-800 text-sm\">\n                    {user ? (\n                      <>\n                        Hello <strong>{user.displayName || user.firstName}</strong>, you haven't submitted a dealer application yet.\n                      </>\n                    ) : (\n                      'You need to login to view your dealer application status.'\n                    )}\n                  </p>\n                </div>\n\n                {user && (\n                  <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                    <p className=\"text-gray-700 text-sm font-medium mb-2\">\n                      Ready to become a dealer? Get exclusive benefits:\n                    </p>\n                    <ul className=\"text-sm text-gray-600 space-y-1\">\n                      <li>✨ Silver: 20% discount, 50k THB min order</li>\n                      <li>✨ Gold: 25% discount, 100k THB min order</li>\n                      <li>✨ Platinum: 30% discount, 200k THB min order</li>\n                    </ul>\n                  </div>\n                )}\n\n                <div className=\"flex gap-4\">\n                  {user ? (\n                    <Link href={`/${lang}/dealer/apply`} className=\"flex-1\">\n                      <Button variant=\"primary\" size=\"lg\" className=\"w-full\">\n                        Apply for Dealer Status\n                      </Button>\n                    </Link>\n                  ) : (\n                    <Button\n                      variant=\"primary\"\n                      size=\"lg\"\n                      className=\"w-full\"\n                      onClick={() => router.push(`/${lang}/login`)}\n                    >\n                      Login to View Status\n                    </Button>\n                  )}\n                  <Button\n                    variant=\"secondary\"\n                    size=\"lg\"\n                    className=\"flex-1\"\n                    onClick={() => router.push(`/${lang}`)}\n                  >\n                    Back to Home\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  const status = apiData?.status || applicationData?.status || 'pending';\n  const getStatusColor = () => {\n    switch (status) {\n      case 'pending':\n        return 'bg-yellow-50 border-yellow-200 text-yellow-800';\n      case 'approved':\n      case 'active':\n        return 'bg-green-50 border-green-200 text-green-800';\n      case 'rejected':\n        return 'bg-red-50 border-red-200 text-red-800';\n      default:\n        return 'bg-gray-50 border-gray-200 text-gray-800';\n    }\n  };\n\n  const getStatusMessage = () => {\n    switch (status) {\n      case 'pending':\n        return dealer.status_pending;\n      case 'approved':\n      case 'active':\n        return dealer.status_approved;\n      case 'rejected':\n        return dealer.status_rejected;\n      default:\n        return dealer.status_title;\n    }\n  };\n\n  const breadcrumbItems = [\n    { name: common.home, href: `/${lang}` },\n    { name: dealer.status_title, href: `/${lang}/dealer/status` },\n  ];\n\n  return (\n    <>\n      <Breadcrumbs items={breadcrumbItems} lang={lang} />\n\n      <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          <div className=\"bg-white rounded-lg shadow-md p-8\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\n              {dealer.status_title}\n            </h1>\n\n            {/* Status Badge */}\n            <div\n              className={`border rounded-lg p-6 mb-6 ${getStatusColor()}`}\n              role=\"status\"\n              aria-live=\"polite\"\n              aria-label={`Application status: ${status}`}\n            >\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  {status === 'pending' && (\n                    <svg className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  )}\n                  {(status === 'approved' || status === 'active') && (\n                    <svg className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  )}\n                  {status === 'rejected' && (\n                    <svg className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  )}\n                </div>\n                <div className=\"ml-4\">\n                  <h2 className=\"text-xl font-semibold\">{getStatusMessage()}</h2>\n                  <p className=\"text-sm mt-1\">\n                    {status === 'pending' && dealer.status_pending_desc}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Application Details */}\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center py-3 border-b\">\n                <span className=\"text-gray-600 font-medium\">{dealer.application_id}:</span>\n                <span className=\"text-gray-900 font-semibold\">{apiData?.applicationId || applicationData?.applicationId}</span>\n              </div>\n\n              <div className=\"flex justify-between items-center py-3 border-b\">\n                <span className=\"text-gray-600 font-medium\">{dealer.business_name}:</span>\n                <span className=\"text-gray-900 font-semibold\">\n                  {apiData?.businessName || applicationData?.businessName}\n                </span>\n              </div>\n\n              <div className=\"flex justify-between items-center py-3 border-b\">\n                <span className=\"text-gray-600 font-medium\">{dealer.submitted_date}:</span>\n                <span className=\"text-gray-900\">\n                  {apiData?.submittedDate || applicationData?.submittedDate\n                    ? new Date(apiData?.submittedDate || applicationData?.submittedDate).toLocaleDateString()\n                    : 'N/A'}\n                </span>\n              </div>\n\n              {apiData?.reviewedDate && (\n                <div className=\"flex justify-between items-center py-3 border-b\">\n                  <span className=\"text-gray-600 font-medium\">{dealer.reviewed_date}:</span>\n                  <span className=\"text-gray-900\">\n                    {new Date(apiData.reviewedDate).toLocaleDateString()}\n                  </span>\n                </div>\n              )}\n\n              {apiData?.assignedTier && (\n                <div className=\"flex justify-between items-center py-3 border-b\">\n                  <span className=\"text-gray-600 font-medium\">{dealer.assigned_tier}:</span>\n                  <span className=\"text-gray-900 font-semibold\">\n                    {apiData.assignedTier}\n                  </span>\n                </div>\n              )}\n\n              {apiData?.assignedTerritories && apiData.assignedTerritories.length > 0 && (\n                <div className=\"py-3 border-b\">\n                  <span className=\"text-gray-600 font-medium block mb-2\">{dealer.assigned_territories}:</span>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {apiData.assignedTerritories.map((territory: string, idx: number) => (\n                      <span\n                        key={idx}\n                        className=\"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\"\n                      >\n                        {territory}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {apiData?.adminNotes && (\n                <div className=\"py-3\">\n                  <span className=\"text-gray-600 font-medium block mb-2\">{dealer.admin_notes}:</span>\n                  <p className=\"text-gray-900 bg-gray-50 p-3 rounded\">{apiData.adminNotes}</p>\n                </div>\n              )}\n            </div>\n\n            {/* Actions */}\n            <div className=\"mt-8 space-y-3\">\n              {status === 'pending' && (\n                <p className=\"text-sm text-gray-600 text-center\">\n                  We will review your application and get back to you within 3-5 business days.\n                </p>\n              )}\n\n              {(status === 'approved' || status === 'active') && (\n                <Link\n                  href={`/${lang}/shop`}\n                  className=\"block w-full px-6 py-4 bg-blue-900 text-white font-bold hover:bg-blue-800 transition-all rounded text-center\"\n                >\n                  {dealer.pricing_title}\n                </Link>\n              )}\n\n              {status === 'rejected' && (\n                <div className=\"text-center\">\n                  <p className=\"text-sm text-gray-600 mb-4\">\n                    You can reapply after 90 days from the submission date.\n                  </p>\n                  <Link\n                    href={`/${lang}/dealer/apply`}\n                    className=\"inline-block px-6 py-3 border border-blue-900 text-blue-900 font-bold hover:bg-blue-50 transition-all rounded\"\n                  >\n                    {dealer.reapply_button}\n                  </Link>\n                </div>\n              )}\n\n              <Link\n                href={`/${lang}/account`}\n                className=\"block text-center text-blue-600 hover:text-blue-800 font-semibold\"\n              >\n                ← Back to Account\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}