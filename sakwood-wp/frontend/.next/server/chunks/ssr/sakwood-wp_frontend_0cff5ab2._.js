module.exports=[62154,a=>{"use strict";let b=(0,a.i(89384).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],62154)},70126,2884,a=>{"use strict";var b=a.i(89384);let c=(0,b.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>c],70126);let d=(0,b.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>d],2884)},810,a=>{"use strict";var b=a.i(94413),c=a.i(46069),d=a.i(79151);async function e(a=1,b=10,c=""){try{let d=new URLSearchParams({page:a.toString(),per_page:b.toString()});c&&d.append("status",c);let e=await fetch(`/api/customer-orders?${d.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok){let a=await e.json().catch(()=>({}));return console.error("[CustomerOrderService] Failed to fetch orders:",a),{orders:[],total:0,page:1,per_page:10,total_pages:0}}return await e.json()}catch(a){return console.error("[CustomerOrderService] Error fetching orders:",a),{orders:[],total:0,page:1,per_page:10,total_pages:0}}}var f=a.i(70126);let g=(0,a.i(89384).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var h=a.i(2884),i=a.i(62154);function j({lang:a,dictionary:j}){let k=(0,d.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(0),[v,w]=(0,c.useState)(0),x=async a=>{o(!0),q(null);try{let b=await e(a,10);m(b.orders),u(b.total_pages),w(b.total),0===b.orders.length&&1===a&&q(j.account?.no_orders||"No orders found")}catch(a){console.error("Error fetching orders:",a),q(j.account?.error_loading_orders||"Failed to load orders")}finally{o(!1)}};return((0,c.useEffect)(()=>{x(r)},[r]),n&&0===l.length)?(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,b.jsx)("p",{className:"text-gray-600",children:j.account?.loading_orders||"Loading your orders..."})]})}):p&&0===l.length?(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,b.jsx)(f.Package,{className:"w-16 h-16 text-gray-300"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:j.account?.no_orders||"No orders yet"}),(0,b.jsx)("p",{className:"text-gray-600 text-center max-w-md",children:p}),(0,b.jsx)("button",{onClick:()=>k.push(`/${a}/shop`),className:"mt-4 inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:j.account?.start_shopping||"Start Shopping"})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[v>0&&(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[j.account?.total_orders||"Total Orders",": ",(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:v})]})})})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:l.map(c=>{var d,e;return(0,b.jsx)("div",{onClick:()=>{var b;return b=c.id,void k.push(`/${a}/account/orders/${b}`)},className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsx)("div",{className:"flex-1 min-w-0",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,b.jsx)(f.Package,{className:"w-6 h-6 text-blue-600"})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[j.account?.order||"Order"," #",c.id]}),(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",processing:"bg-blue-100 text-blue-800 border-blue-200","on-hold":"bg-orange-100 text-orange-800 border-orange-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",refunded:"bg-purple-100 text-purple-800 border-purple-200",failed:"bg-red-100 text-red-800 border-red-200"}[c.status]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:(d=c.status,({pending:{th:"รอดำเนินการ",en:"Pending"},processing:{th:"กำลังดำเนินการ",en:"Processing"},"on-hold":{th:"ระงับชั่วคราว",en:"On Hold"},completed:{th:"เสร็จสิ้น",en:"Completed"},cancelled:{th:"ยกเลิก",en:"Cancelled"},refunded:{th:"คืนเงินแล้ว",en:"Refunded"},failed:{th:"ล้มเหลว",en:"Failed"}})[d]?.[a]||d)})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm text-gray-600",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(g,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:new Date(c.date_created).toLocaleDateString("th"===a?"th-TH":"en-US")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(f.Package,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[c.items_count," ",j.account?.items||"items"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(h.CreditCard,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:(e=c.payment_status,({paid:{th:"ชำระแล้ว",en:"Paid"},pending:{th:"รอชำระเงิน",en:"Pending"},unpaid:{th:"ยังไม่ชำระ",en:"Unpaid"}})[e]?.[a]||e)})]})]})]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 sm:border-l sm:pl-6 sm:border-gray-200",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:j.account?.total||"Total"}),(0,b.jsx)("p",{className:"text-xl font-bold text-gray-900",children:c.total_formatted})]}),(0,b.jsx)(i.ChevronRight,{className:"w-5 h-5 text-gray-400"})]})]})},c.id)})}),t>1&&(0,b.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{onClick:()=>s(a=>Math.max(1,a-1)),disabled:1===r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j.account?.previous||"Previous"}),(0,b.jsxs)("span",{className:"text-sm text-gray-700",children:[j.account?.page||"Page"," ",r," ",j.account?.of||"of"," ",t]}),(0,b.jsx)("button",{onClick:()=>s(a=>Math.min(t,a+1)),disabled:r===t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j.account?.next||"Next"})]})})]})]})}a.s(["OrdersList",()=>j],810)}];

//# sourceMappingURL=sakwood-wp_frontend_0cff5ab2._.js.map