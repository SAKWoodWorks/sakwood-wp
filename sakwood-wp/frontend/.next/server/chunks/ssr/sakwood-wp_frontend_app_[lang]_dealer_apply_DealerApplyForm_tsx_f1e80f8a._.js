module.exports=[96827,a=>{"use strict";var b=a.i(94413),c=a.i(46069),d=a.i(79151),e=a.i(75129),f=a.i(42455);a.i(29355);var g=a.i(89259),h=a.i(8615),i=a.i(59809);function j({lang:a,dictionary:j}){let{user:k,token:l,isWholesale:m,isDealer:n,applyForDealer:o}=(0,h.useAuth)(),p=(0,d.useRouter)(),[q,r]=(0,c.useState)([]),[s]=(0,c.useState)(["Bangkok","Pathumtani","Nonthaburi","Samut Prakan","Nakhon Pathom","Samut Sakhon","Phra Nakhon Si Ayutthaya","Ang Thong","Lopburi","Saraburi","Sing Buri","Chai Nat","Suphan Buri","Kanchanaburi","Ratchaburi","Phetchaburi","Prachuap Khiri Khan","Chonburi","Rayong","Chanthaburi","Trat","Chachoengsao","Prachinburi","Sa Kaeo","Nakhon Nayok","Kamphaeng Phet","Tak","Uthai Thani","Nakhon Sawan","Phichit","Phitsanulok","Phichai","Phetchabun","Chiang Mai","Lamphun","Lampang","Uttaradit","Phrae","Nan","Phayao","Chiang Rai","Mae Hong Son","Nakhon Ratchasima","Buri Ram","Surin","Sisaket","Ubon Ratchathani","Yasothon","Chaiyaphum","Amnat Charoen","Nong Bua Lamphu","Khon Kaen","Udon Thani","Loei","Nong Khai","Maha Sarakham","Roi Et","Kalasin","Sakon Nakhon","Nakhon Phanom","Mukdahan","Chumphon","Ranong","Surat Thani","Phangnga","Phuket","Krabi","Phatthalung","Trang","Satun","Songkhla","Yala","Narathiwat","Pattani","Nakhon Si Thammarat"]),[t,u]=(0,c.useState)({requestedTier:"",storageFacility:"",deliveryVehicles:"",salesCapacity:"",dealerExperience:"",requestedTerritories:[],tradeReferences:[],businessReferences:[]}),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1);(0,c.useEffect)(()=>{C(!0),async function(){let a=await (0,i.getDealerTiers)();a.success&&a.data&&r(a.data)}()},[a]),(0,c.useEffect)(()=>{B&&n&&p.push(`/${a}/dealer/status`)},[B,n,a,p]),(0,c.useEffect)(()=>{if(x){let b=setTimeout(()=>{p.push(`/${a}/dealer/status`)},2e3);return()=>clearTimeout(b)}},[x,a,p]);let{dealer:D,common:E}=j;if(!k)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Breadcrumbs,{items:[{name:E.home,href:`/${a}`},{name:D.page_title,href:`/${a}/dealer/apply`}],lang:a}),(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,b.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Authentication Required"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"ðŸ”’ Dealer Application Requirements"}),(0,b.jsxs)("p",{className:"text-blue-800 text-sm mb-3",children:["To apply for dealer status, you must first be an ",(0,b.jsx)("strong",{children:"active wholesale customer"}),"."]}),(0,b.jsxs)("div",{className:"bg-white rounded p-3 text-sm text-blue-900",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Required Steps:"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,b.jsx)("li",{children:"Register an account"}),(0,b.jsx)("li",{children:"Apply for wholesale status"}),(0,b.jsx)("li",{children:"Wait for admin approval"}),(0,b.jsx)("li",{children:"Then apply for dealer status"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(e.default,{href:`/${a}/register`,className:"flex-1",children:(0,b.jsx)(g.Button,{variant:"primary",size:"lg",className:"w-full",children:"Register Account"})}),(0,b.jsx)(e.default,{href:`/${a}/login`,className:"flex-1",children:(0,b.jsx)(g.Button,{variant:"secondary",size:"lg",className:"w-full",children:"Login"})})]}),(0,b.jsx)(e.default,{href:`/${a}/account`,className:"block text-center text-blue-600 hover:text-blue-800",children:"â† Back to Home"})]})]})})})]});if(!m)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Breadcrumbs,{items:[{name:E.home,href:`/${a}`},{name:D.page_title,href:`/${a}/dealer/apply`}],lang:a}),(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,b.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Wholesale Status Required"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"ðŸ“‹ Dealer Application Requirements"}),(0,b.jsxs)("p",{className:"text-yellow-800 text-sm mb-3",children:["Dear ",(0,b.jsx)("strong",{children:k.displayName||k.firstName}),", you must first be an ",(0,b.jsx)("strong",{children:"active wholesale customer"})," before applying for dealer status."]}),(0,b.jsxs)("div",{className:"bg-white rounded p-3 text-sm text-yellow-900",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Your Path to Dealer Status:"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,b.jsxs)("li",{children:["âœ… Register account ",(0,b.jsx)("strong",{children:"(Complete)"})]}),(0,b.jsx)("li",{className:"text-orange-600 font-medium",children:"â³ Apply for wholesale status"}),(0,b.jsx)("li",{children:"â³ Wait for wholesale approval"}),(0,b.jsx)("li",{children:"â³ Apply for dealer status"})]})]})]}),(0,b.jsx)(e.default,{href:`/${a}/account`,className:"block",children:(0,b.jsx)(g.Button,{variant:"primary",size:"lg",className:"w-full",children:"Apply for Wholesale Status"})}),(0,b.jsx)(e.default,{href:`/${a}`,className:"block text-center text-blue-600 hover:text-blue-800",children:"â† Back to Home"})]})]})})})]});let F=async a=>{if(a.preventDefault(),w(""),!t.requestedTier)return void w(D.select_tier);if(0===t.requestedTerritories.length)return void w("Please select at least one territory");let b=function(a){let b=[];if(a.requestedTier||b.push("Tier selection is required"),(!a.storageFacility||a.storageFacility.trim().length<20)&&b.push("Storage facility details must be at least 20 characters"),(!a.deliveryVehicles||a.deliveryVehicles.trim().length<20)&&b.push("Delivery vehicles description must be at least 20 characters"),a.salesCapacity||b.push("Sales capacity estimate is required"),(!a.dealerExperience||a.dealerExperience.trim().length<30)&&b.push("Dealer experience must be at least 30 characters"),a.requestedTerritories&&0!==a.requestedTerritories.length||b.push("At least one territory must be requested"),(2===a.requestedTier||3===a.requestedTier)&&(!a.tradeReferences||a.tradeReferences.length<2)&&b.push("At least 2 trade references required for Gold/Platinum tier"),3===a.requestedTier){let c;(!a.businessReferences||a.businessReferences.length<3)&&b.push("At least 3 business references required for Platinum tier");let d=(c=a.salesCapacity.toLowerCase().trim()).endsWith("k")?1e3*parseFloat(c.replace("k","")):c.endsWith("m")?1e6*parseFloat(c.replace("m","")):parseFloat(c);(isNaN(d)||d<5e5)&&b.push("Monthly sales capacity must be at least 500,000 THB for Platinum tier")}return{valid:0===b.length,errors:b}}({requestedTier:parseInt(t.requestedTier),storageFacility:t.storageFacility,deliveryVehicles:t.deliveryVehicles,salesCapacity:t.salesCapacity,dealerExperience:t.dealerExperience,requestedTerritories:t.requestedTerritories,tradeReferences:t.tradeReferences,businessReferences:t.businessReferences});if(!b.valid)return void w(b.errors.join(", "));A(!0);try{let a=await o({requestedTier:parseInt(t.requestedTier),storageFacility:t.storageFacility,deliveryVehicles:t.deliveryVehicles,salesCapacity:t.salesCapacity,dealerExperience:t.dealerExperience,requestedTerritories:t.requestedTerritories,tradeReferences:t.tradeReferences,businessReferences:t.businessReferences});if(a.success){let b={status:"pending",applicationId:a.applicationId||`DLR-${Date.now()}`,submittedDate:new Date().toISOString(),businessName:k.businessName||k.displayName};try{localStorage.setItem("dealer_application",JSON.stringify(b))}catch(a){console.error("Failed to save application data:",a)}y(!0)}else w(a.error||D.error_application_pending),A(!1)}catch(a){w("An unexpected error occurred. Please try again."),A(!1)}},G=(a,b,c)=>{let d=[...t.tradeReferences];d[a]={...d[a],[b]:c},u({...t,tradeReferences:d})},H=(a,b,c)=>{let d=[...t.businessReferences];d[a]={...d[a],[b]:c},u({...t,businessReferences:d})},I=[{name:E.home,href:`/${a}`},{name:D.page_title,href:`/${a}/dealer/apply`}];return x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Breadcrumbs,{items:I,lang:a}),(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:D.success_title}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:D.success_message}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to status page..."})]})})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Breadcrumbs,{items:I,lang:a}),(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:D.application_title}),(0,b.jsx)("p",{className:"text-gray-600",children:D.application_subtitle})]}),v&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",role:"alert","aria-live":"assertive",children:v}),(0,b.jsxs)("form",{onSubmit:F,className:"bg-white rounded-lg shadow-md p-8 space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b",children:D.tier_selection}),(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>(0,b.jsx)("label",{className:`block p-4 border rounded-lg cursor-pointer transition-all ${t.requestedTier===a.id.toString()?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("input",{type:"radio",name:"tier",value:a.id,checked:t.requestedTier===a.id.toString(),onChange:a=>u({...t,requestedTier:a.target.value}),className:"mt-1 mr-3"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 mb-1",children:["silver"===a.tier_name&&D.tier_silver,"gold"===a.tier_name&&D.tier_gold,"platinum"===a.tier_name&&D.tier_platinum]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["silver"===a.tier_name&&D.tier_silver_desc,"gold"===a.tier_name&&D.tier_gold_desc,"platinum"===a.tier_name&&D.tier_platinum_desc]}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[D.requirements_list,":"]}),(0,b.jsx)("ul",{className:"text-xs text-gray-600 mt-1 space-y-1",children:(()=>{try{return JSON.parse(a.requirements||"[]").map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start",children:[(0,b.jsx)("span",{className:"mr-1",children:"â€¢"}),(0,b.jsx)("span",{children:a})]},c))}catch(a){return console.error("Failed to parse requirements:",a),(0,b.jsx)("li",{className:"text-red-600",children:"Requirements unavailable"})}})()})]})]})},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b",children:D.dealer_requirements}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[D.storage_facility," *"]}),(0,b.jsx)("textarea",{required:!0,rows:3,value:t.storageFacility,onChange:a=>u({...t,storageFacility:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder:text-gray-400",placeholder:D.storage_facility_placeholder})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[D.delivery_vehicles," *"]}),(0,b.jsx)("textarea",{required:!0,rows:3,value:t.deliveryVehicles,onChange:a=>u({...t,deliveryVehicles:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder:text-gray-400",placeholder:D.delivery_vehicles_placeholder})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[D.sales_capacity," *"]}),(0,b.jsxs)("select",{required:!0,value:t.salesCapacity,onChange:a=>u({...t,salesCapacity:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder:text-gray-400",children:[(0,b.jsx)("option",{value:"",children:D.sales_capacity_placeholder}),(0,b.jsx)("option",{value:"10k",children:D.capacity_10k}),(0,b.jsx)("option",{value:"50k",children:D.capacity_50k}),(0,b.jsx)("option",{value:"100k",children:D.capacity_100k}),(0,b.jsx)("option",{value:"500k",children:D.capacity_500k}),(0,b.jsx)("option",{value:"1m",children:D.capacity_1m})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[D.dealer_experience," *"]}),(0,b.jsx)("textarea",{required:!0,rows:4,value:t.dealerExperience,onChange:a=>u({...t,dealerExperience:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder:text-gray-400",placeholder:D.dealer_experience_placeholder})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b",children:D.territory_request}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:D.select_provinces}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto border p-4 rounded",children:s.map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:t.requestedTerritories.includes(a),onChange:b=>{b.target.checked?u({...t,requestedTerritories:[...t.requestedTerritories,a]}):u({...t,requestedTerritories:t.requestedTerritories.filter(b=>b!==a)})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-gray-900",children:a})]},a))}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",t.requestedTerritories.length," provinces"]})]})]}),t.requestedTier&&parseInt(t.requestedTier)>=2&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b",children:D.references}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:D.trade_references}),(0,b.jsx)("button",{type:"button",onClick:()=>{u({...t,tradeReferences:[...t.tradeReferences,{company:"",contact:"",relationship:""}]})},className:"text-sm text-blue-600 hover:text-blue-800",children:D.add_reference})]}),t.tradeReferences.map((a,c)=>(0,b.jsxs)("div",{className:"border p-4 rounded mb-2 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[D.references," ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>{u({...t,tradeReferences:t.tradeReferences.filter((a,b)=>b!==c)})},className:"text-red-600 hover:text-red-800 text-sm",children:D.remove_reference})]}),(0,b.jsx)("input",{type:"text",value:a.company,onChange:a=>G(c,"company",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.company}),(0,b.jsx)("input",{type:"text",value:a.contact,onChange:a=>G(c,"contact",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.contact}),(0,b.jsx)("input",{type:"text",value:a.relationship,onChange:a=>G(c,"relationship",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.relationship})]},c))]}),"3"===t.requestedTier&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:D.business_references}),(0,b.jsx)("button",{type:"button",onClick:()=>{u({...t,businessReferences:[...t.businessReferences,{company:"",contact:"",accountValue:""}]})},className:"text-sm text-blue-600 hover:text-blue-800",children:D.add_reference})]}),t.businessReferences.map((a,c)=>(0,b.jsxs)("div",{className:"border p-4 rounded mb-2 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[D.references," ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>{u({...t,businessReferences:t.businessReferences.filter((a,b)=>b!==c)})},className:"text-red-600 hover:text-red-800 text-sm",children:D.remove_reference})]}),(0,b.jsx)("input",{type:"text",value:a.company,onChange:a=>H(c,"company",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.company}),(0,b.jsx)("input",{type:"text",value:a.contact,onChange:a=>H(c,"contact",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.contact}),(0,b.jsx)("input",{type:"text",value:a.accountValue,onChange:a=>H(c,"accountValue",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",placeholder:D.account_value})]},c))]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(g.Button,{variant:"primary",size:"lg",type:"submit",disabled:z,className:"flex-1",children:z?D.submitting:D.submit_application}),(0,b.jsx)(e.default,{href:`/${a}/account`,className:"flex-1",children:(0,b.jsx)(g.Button,{variant:"secondary",size:"lg",type:"button",disabled:z,className:"w-full",children:"Cancel"})})]})]})]})})]})}a.s(["DealerApplyForm",()=>j],96827)}];

//# sourceMappingURL=sakwood-wp_frontend_app_%5Blang%5D_dealer_apply_DealerApplyForm_tsx_f1e80f8a._.js.map