{"version":3,"sources":["../../../../../../sakwood-wp/frontend/lib/services/deliveryService.ts"],"sourcesContent":["// Delivery rate calculation service\r\n// Warehouse location: Pathumtani, Thailand\r\n// Rates are loaded from DeliveryRate.csv\r\n\r\nexport enum TruckType {\r\n  SMALL = 'small',\r\n  MEDIUM = 'medium',\r\n  LARGE = 'large',\r\n}\r\n\r\nexport interface ShippingRate {\r\n  province: string;\r\n  rate: number;\r\n  estimatedDays: string;\r\n  truckType?: TruckType;\r\n}\r\n\r\nexport interface CartItem {\r\n  length?: number | string;\r\n  width?: number | string;\r\n  thickness?: number | string;\r\n  volume?: number;\r\n  surfaceArea?: number | string;\r\n  quantity: number;\r\n}\r\n\r\n// CSV data structure from DeliveryRate.csv\r\ninterface DeliveryRateRow {\r\n  zone: string;\r\n  province: string;\r\n  baseRate: number;\r\n  priceTiers: {\r\n    tier1: number;      // 0-10k\r\n    tier2: number;      // 10k-25k\r\n    tier3: number;      // 25k-50k\r\n    tier4: number;      // 50k-75k\r\n    tier5: number;      // 75k-100k\r\n    tier6: number;      // 100k-150k\r\n    tier7: number;      // 150k-200k\r\n    tier8: number;      // 200k-250k\r\n    tier9: number;      // 250k-300k\r\n  };\r\n}\r\n\r\n// Parsed delivery rates from CSV\r\nconst DELIVERY_RATES: ShippingRate[] = [\r\n  // Zone 1: Bangkok Metropolitan Area (6W)\r\n  { province: 'Pathumtani', rate: 5000, estimatedDays: '1' },\r\n  { province: 'Nonthaburi', rate: 5000, estimatedDays: '1-2' },\r\n  { province: 'Samut Prakan', rate: 5000, estimatedDays: '1-2' },\r\n  { province: 'Nakhon Pathom', rate: 5000, estimatedDays: '1-2' },\r\n  { province: 'Samut Sakhon', rate: 5000, estimatedDays: '1-2' },\r\n  { province: 'Phra Nakhon Si Ayutthaya', rate: 6500, estimatedDays: '2-3' },\r\n  { province: 'Ang Thong', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Lopburi', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Saraburi', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Sing Buri', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Chai Nat', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Suphan Buri', rate: 2000, estimatedDays: '2-3' },\r\n\r\n  // Zone 2: Central Region (10W)\r\n  { province: 'Kanchanaburi', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Ratchaburi', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Phetchaburi', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Prachuap Khiri Khan', rate: 3000, estimatedDays: '3-4' },\r\n  { province: 'Chonburi', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Rayong', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Chanthaburi', rate: 3000, estimatedDays: '3-4' },\r\n  { province: 'Trat', rate: 3000, estimatedDays: '3-4' },\r\n  { province: 'Chachoengsao', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Prachinburi', rate: 2000, estimatedDays: '2-3' },\r\n  { province: 'Sa Kaeo', rate: 2500, estimatedDays: '2-3' },\r\n  { province: 'Nakhon Nayok', rate: 2000, estimatedDays: '2-3' },\r\n\r\n  // Zone 3: Northern Region (6W)\r\n  { province: 'Kamphaeng Phet', rate: 4000, estimatedDays: '3-4' },\r\n  { province: 'Tak', rate: 4000, estimatedDays: '3-4' },\r\n  { province: 'Uthai Thani', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Nakhon Sawan', rate: 3000, estimatedDays: '2-3' },\r\n  { province: 'Phichit', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Phitsanulok', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Phichai', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Phetchabun', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Chiang Mai', rate: 7500, estimatedDays: '4-5' },\r\n  { province: 'Lamphun', rate: 7500, estimatedDays: '4-5' },\r\n  { province: 'Lampang', rate: 7500, estimatedDays: '4-5' },\r\n  { province: 'Uttaradit', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Phrae', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Nan', rate: 7500, estimatedDays: '4-5' },\r\n  { province: 'Phayao', rate: 7500, estimatedDays: '4-5' },\r\n  { province: 'Chiang Rai', rate: 9000, estimatedDays: '4-5' },\r\n  { province: 'Mae Hong Son', rate: 10000, estimatedDays: '5-6' },\r\n\r\n  // Zone 4: Northeastern Region (6W)\r\n  { province: 'Nakhon Ratchasima', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Buri Ram', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Surin', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Sisaket', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Ubon Ratchathani', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Yasothon', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Chaiyaphum', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Amnat Charoen', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Nong Bua Lamphu', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Khon Kaen', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Udon Thani', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Loei', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Nong Khai', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Maha Sarakham', rate: 5000, estimatedDays: '4-5' },\r\n  { province: 'Roi Et', rate: 3500, estimatedDays: '3-4' },\r\n  { province: 'Kalasin', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Sakon Nakhon', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Nakhon Phanom', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Mukdahan', rate: 4000, estimatedDays: '4-5' },\r\n\r\n  // Zone 5: Southern Region (6W)\r\n  { province: 'Chumphon', rate: 4000, estimatedDays: '4-5' },\r\n  { province: 'Ranong', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Surat Thani', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Phangnga', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Phuket', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Krabi', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Phatthalung', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Trang', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Satun', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Songkhla', rate: 4500, estimatedDays: '4-5' },\r\n  { province: 'Yala', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Narathiwat', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Pattani', rate: 5000, estimatedDays: '5-6' },\r\n  { province: 'Nakhon Si Thammarat', rate: 4500, estimatedDays: '4-5' },\r\n];\r\n\r\n/**\r\n * Get shipping rate for a specific province\r\n * @param province - Name of province\r\n * @returns Shipping rate information or default rate if province not found\r\n */\r\nexport function getShippingRate(province: string): ShippingRate {\r\n  const normalizedProvince = province.toLowerCase().trim();\r\n  const rate = DELIVERY_RATES.find(\r\n    (r) => r.province.toLowerCase() === normalizedProvince\r\n  );\r\n\r\n  return (\r\n    rate || {\r\n      province,\r\n      rate: 6000, // Default rate for unknown provinces\r\n      estimatedDays: '5-7',\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Get all available provinces\r\n * @returns Array of province names\r\n */\r\nexport function getAllProvinces(): string[] {\r\n  return DELIVERY_RATES.map((rate) => rate.province).sort();\r\n}\r\n\r\n/**\r\n * Determine truck type based on cart items\r\n * @param items - Array of cart items with dimensions\r\n * @returns Truck type needed\r\n */\r\nexport function determineTruckType(items: CartItem[]): TruckType {\r\n  let totalLength = 0;\r\n  let totalVolume = 0;\r\n\r\n  items.forEach(item => {\r\n    const length = typeof item.length === 'string' ? parseFloat(item.length) || 0 : (item.length || 0);\r\n    const volume = item.volume || 0;\r\n    totalLength += length * item.quantity;\r\n    totalVolume += volume * item.quantity;\r\n  });\r\n\r\n  // Large truck needed if:\r\n  // - Any single item is 6 meters or longer, OR\r\n  // - Total length exceeds 12 meters, OR\r\n  // - Total volume exceeds 5 cubic meters\r\n  const hasLongItem = items.some(item => {\r\n    const length = typeof item.length === 'string' ? parseFloat(item.length) || 0 : (item.length || 0);\r\n    return length >= 6;\r\n  });\r\n  const totalLengthExceedsLimit = totalLength > 12;\r\n  const totalVolumeExceedsLimit = totalVolume > 5;\r\n\r\n  if (hasLongItem || totalLengthExceedsLimit || totalVolumeExceedsLimit) {\r\n    return TruckType.LARGE;\r\n  }\r\n\r\n  // Medium truck needed if:\r\n  // - Any single item is 3-6 meters, OR\r\n  // - Total length exceeds 6 meters, OR\r\n  // - Total volume exceeds 2 cubic meters\r\n  const hasMediumItem = items.some(item => {\r\n    const length = typeof item.length === 'string' ? parseFloat(item.length) || 0 : (item.length || 0);\r\n    return length >= 3 && length < 6;\r\n  });\r\n  const totalLengthExceedsMedium = totalLength > 6;\r\n  const totalVolumeExceedsMedium = totalVolume > 2;\r\n\r\n  if (hasMediumItem || totalLengthExceedsMedium || totalVolumeExceedsMedium) {\r\n    return TruckType.MEDIUM;\r\n  }\r\n\r\n  return TruckType.SMALL;\r\n}\r\n\r\n/**\r\n * Get truck type surcharge\r\n * @param truckType - Type of truck\r\n * @returns Additional cost for truck type\r\n */\r\nexport function getTruckTypeSurcharge(truckType: TruckType): number {\r\n  switch (truckType) {\r\n    case TruckType.SMALL:\r\n      return 0;\r\n    case TruckType.MEDIUM:\r\n      return 500;\r\n    case TruckType.LARGE:\r\n      return 1500;\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * Get truck type display name\r\n * @param truckType - Type of truck\r\n * @returns Display name for truck type\r\n */\r\nexport function getTruckTypeName(truckType: TruckType): string {\r\n  switch (truckType) {\r\n    case TruckType.SMALL:\r\n      return 'Small Truck (6-wheel)';\r\n    case TruckType.MEDIUM:\r\n      return 'Medium Truck (10-wheel)';\r\n    case TruckType.LARGE:\r\n      return 'Large Truck (10-wheel)';\r\n    default:\r\n      return 'Standard Truck';\r\n  }\r\n}\r\n\r\n/**\r\n * Get price tier based on order value\r\n * @param cartTotal - Total cart value\r\n * @returns Price tier multiplier\r\n */\r\nfunction getPriceTier(cartTotal: number): number {\r\n  if (cartTotal >= 250000) return 0.9;      // 250k-300k: 10% discount\r\n  if (cartTotal >= 200000) return 0.95;     // 200k-250k: 5% discount\r\n  if (cartTotal >= 150000) return 1.0;       // 150k-200k: no discount\r\n  if (cartTotal >= 100000) return 1.05;      // 100k-150k: 5% surcharge\r\n  if (cartTotal >= 75000) return 1.1;        // 75k-100k: 10% surcharge\r\n  if (cartTotal >= 50000) return 1.15;       // 50k-75k: 15% surcharge\r\n  if (cartTotal >= 25000) return 1.2;        // 25k-50k: 20% surcharge\r\n  if (cartTotal >= 10000) return 1.25;       // 10k-25k: 25% surcharge\r\n  return 1.0;                                      // 0-10k: 25% surcharge\r\n}\r\n\r\n/**\r\n * Calculate shipping cost based on province and truck type\r\n * @param province - Name of province\r\n * @param cartTotal - Total cart value (optional, can be used for free shipping)\r\n * @param items - Cart items to determine truck type\r\n * @returns Shipping cost in THB\r\n */\r\nexport function calculateShippingCost(\r\n  province: string,\r\n  cartTotal?: number,\r\n  items?: CartItem[]\r\n): { cost: number; truckType: TruckType; truckTypeName: string; priceTier: string } {\r\n  const rate = getShippingRate(province);\r\n  const truckType = items ? determineTruckType(items) : TruckType.SMALL;\r\n  const truckSurcharge = getTruckTypeSurcharge(truckType);\r\n  const priceTier = cartTotal ? getPriceTier(cartTotal) : 1.0;\r\n\r\n  // Free shipping for orders over 10,000 THB\r\n  if (cartTotal && cartTotal >= 10000) {\r\n    return {\r\n      cost: 0,\r\n      truckType,\r\n      truckTypeName: getTruckTypeName(truckType),\r\n      priceTier: 'Free',\r\n    };\r\n  }\r\n\r\n  const baseCost = rate.rate + truckSurcharge;\r\n  const totalCost = baseCost * priceTier;\r\n\r\n  return {\r\n    cost: totalCost,\r\n    truckType,\r\n    truckTypeName: getTruckTypeName(truckType),\r\n    priceTier: priceTier === 1.0 ? 'Standard' : `${Math.round((1 - priceTier) * 100)}% ${priceTier < 1 ? 'Discount' : 'Surcharge'}`,\r\n  };\r\n}\r\n\r\n/**\r\n * Get shipping zones\r\n * @returns Array of zones with their rates\r\n */\r\nexport function getShippingZones(): {\r\n  zone: string;\r\n  provinces: string[];\r\n  rate: number;\r\n  estimatedDays: string;\r\n}[] {\r\n  const zones = [\r\n    { name: 'Bangkok Metropolitan Area', rate: 5000, days: '1-2' },\r\n    { name: 'Central Region', rate: 2500, days: '2-3' },\r\n    { name: 'Northern Region', rate: 7500, days: '4-5' },\r\n    { name: 'Northeastern Region', rate: 4000, days: '4-5' },\r\n    { name: 'Southern Region', rate: 5000, days: '5-6' },\r\n  ];\r\n\r\n  return zones.map((zone) => ({\r\n    zone: zone.name,\r\n    provinces: DELIVERY_RATES.filter((r) => r.rate === zone.rate).map((r) => r.province),\r\n    rate: zone.rate,\r\n    estimatedDays: zone.days,\r\n  }));\r\n}\r\n"],"names":[],"mappings":"uCAIO,MAAK,IAAA,sDAAA,GAyCZ,IAAM,EAAiC,CAErC,CAAE,SAAU,aAAc,KAAM,IAAM,cAAe,GAAI,EACzD,CAAE,SAAU,aAAc,KAAM,IAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,gBAAiB,KAAM,IAAM,cAAe,KAAM,EAC9D,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,2BAA4B,KAAM,KAAM,cAAe,KAAM,EACzE,CAAE,SAAU,YAAa,KAAM,IAAM,cAAe,KAAM,EAC1D,CAAE,SAAU,UAAW,KAAM,IAAM,cAAe,KAAM,EACxD,CAAE,SAAU,WAAY,KAAM,IAAM,cAAe,KAAM,EACzD,CAAE,SAAU,YAAa,KAAM,IAAM,cAAe,KAAM,EAC1D,CAAE,SAAU,WAAY,KAAM,IAAM,cAAe,KAAM,EACzD,CAAE,SAAU,cAAe,KAAM,IAAM,cAAe,KAAM,EAG5D,CAAE,SAAU,eAAgB,KAAM,KAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,aAAc,KAAM,KAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,cAAe,KAAM,KAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,sBAAuB,KAAM,IAAM,cAAe,KAAM,EACpE,CAAE,SAAU,WAAY,KAAM,KAAM,cAAe,KAAM,EACzD,CAAE,SAAU,SAAU,KAAM,KAAM,cAAe,KAAM,EACvD,CAAE,SAAU,cAAe,KAAM,IAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,OAAQ,KAAM,IAAM,cAAe,KAAM,EACrD,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,cAAe,KAAM,IAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAG7D,CAAE,SAAU,iBAAkB,KAAM,IAAM,cAAe,KAAM,EAC/D,CAAE,SAAU,MAAO,KAAM,IAAM,cAAe,KAAM,EACpD,CAAE,SAAU,cAAe,KAAM,KAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,cAAe,KAAM,KAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,aAAc,KAAM,KAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,aAAc,KAAM,KAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,YAAa,KAAM,KAAM,cAAe,KAAM,EAC1D,CAAE,SAAU,QAAS,KAAM,KAAM,cAAe,KAAM,EACtD,CAAE,SAAU,MAAO,KAAM,KAAM,cAAe,KAAM,EACpD,CAAE,SAAU,SAAU,KAAM,KAAM,cAAe,KAAM,EACvD,CAAE,SAAU,aAAc,KAAM,IAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,eAAgB,KAAM,IAAO,cAAe,KAAM,EAG9D,CAAE,SAAU,oBAAqB,KAAM,KAAM,cAAe,KAAM,EAClE,CAAE,SAAU,WAAY,KAAM,KAAM,cAAe,KAAM,EACzD,CAAE,SAAU,QAAS,KAAM,KAAM,cAAe,KAAM,EACtD,CAAE,SAAU,UAAW,KAAM,KAAM,cAAe,KAAM,EACxD,CAAE,SAAU,mBAAoB,KAAM,IAAM,cAAe,KAAM,EACjE,CAAE,SAAU,WAAY,KAAM,KAAM,cAAe,KAAM,EACzD,CAAE,SAAU,aAAc,KAAM,KAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,gBAAiB,KAAM,IAAM,cAAe,KAAM,EAC9D,CAAE,SAAU,kBAAmB,KAAM,IAAM,cAAe,KAAM,EAChE,CAAE,SAAU,YAAa,KAAM,IAAM,cAAe,KAAM,EAC1D,CAAE,SAAU,aAAc,KAAM,IAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,OAAQ,KAAM,IAAM,cAAe,KAAM,EACrD,CAAE,SAAU,YAAa,KAAM,IAAM,cAAe,KAAM,EAC1D,CAAE,SAAU,gBAAiB,KAAM,IAAM,cAAe,KAAM,EAC9D,CAAE,SAAU,SAAU,KAAM,KAAM,cAAe,KAAM,EACvD,CAAE,SAAU,UAAW,KAAM,IAAM,cAAe,KAAM,EACxD,CAAE,SAAU,eAAgB,KAAM,IAAM,cAAe,KAAM,EAC7D,CAAE,SAAU,gBAAiB,KAAM,IAAM,cAAe,KAAM,EAC9D,CAAE,SAAU,WAAY,KAAM,IAAM,cAAe,KAAM,EAGzD,CAAE,SAAU,WAAY,KAAM,IAAM,cAAe,KAAM,EACzD,CAAE,SAAU,SAAU,KAAM,KAAM,cAAe,KAAM,EACvD,CAAE,SAAU,cAAe,KAAM,KAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,WAAY,KAAM,IAAM,cAAe,KAAM,EACzD,CAAE,SAAU,SAAU,KAAM,IAAM,cAAe,KAAM,EACvD,CAAE,SAAU,QAAS,KAAM,IAAM,cAAe,KAAM,EACtD,CAAE,SAAU,cAAe,KAAM,KAAM,cAAe,KAAM,EAC5D,CAAE,SAAU,QAAS,KAAM,KAAM,cAAe,KAAM,EACtD,CAAE,SAAU,QAAS,KAAM,IAAM,cAAe,KAAM,EACtD,CAAE,SAAU,WAAY,KAAM,KAAM,cAAe,KAAM,EACzD,CAAE,SAAU,OAAQ,KAAM,IAAM,cAAe,KAAM,EACrD,CAAE,SAAU,aAAc,KAAM,IAAM,cAAe,KAAM,EAC3D,CAAE,SAAU,UAAW,KAAM,IAAM,cAAe,KAAM,EACxD,CAAE,SAAU,sBAAuB,KAAM,KAAM,cAAe,KAAM,EACrE,CAOM,SAAS,EAAgB,CAAgB,EAC9C,IAAM,EAAqB,EAAS,WAAW,GAAG,IAAI,GAKtD,OAJa,AAKX,EAL0B,IAAI,CAC9B,AAAC,GAAM,EAAE,QAAQ,CAAC,WAAW,KAAO,IAI5B,UACN,EACA,KAAM,IACN,cAAe,KACjB,CAEJ,CAMO,SAAS,IACd,OAAO,EAAe,GAAG,CAAC,AAAC,GAAS,EAAK,QAAQ,EAAE,IAAI,EACzD,CA0EO,SAAS,EAAiB,CAAoB,EACnD,OAAQ,GACN,IAAA,QACE,MAAO,uBACT,KAAA,SACE,MAAO,yBACT,KAAA,QACE,MAAO,wBACT,SACE,MAAO,gBACX,CACF,CA0BO,SAAS,EACd,CAAgB,CAChB,CAAkB,CAClB,CAAkB,EAElB,IAAM,EAAO,EAAgB,GACvB,EAAY,EAAQ,AA9GrB,SAAS,AAAmB,CAAiB,EAClD,IAAI,EAAc,EACd,EAAc,EAElB,EAAM,OAAO,CAAC,IACZ,IAAM,EAAgC,UAAvB,OAAO,EAAK,MAAM,CAAgB,WAAW,EAAK,MAAM,GAAK,EAAK,EAAK,MAAM,EAAI,EAC1F,EAAS,EAAK,MAAM,EAAI,EAC9B,GAAe,EAAS,EAAK,QAAQ,CACrC,GAAe,EAAS,EAAK,QAAQ,AACvC,GAMA,IAAM,EAAc,EAAM,IAAI,CAAC,GAEtB,CAD+B,UAAvB,OAAO,EAAK,MAAM,CAAgB,WAAW,EAAK,MAAM,GAAK,EAAK,EAAK,MAAM,GAAI,GAC/E,GAEb,EAA0B,EAAc,GACxC,EAA0B,EAAc,EAE9C,GAAI,GAAe,GAA2B,EAC5C,MAAA,QAOF,IAAM,EAAgB,EAAM,CAR2C,GAQvC,CAAC,IAC/B,IAAM,EAAgC,UAAvB,OAAO,EAAK,MAAM,CAAgB,WAAW,EAAK,MAAM,GAAK,EAAK,EAAK,MAAM,EAAI,EAChG,OAAO,GAAU,GAAK,EAAS,CACjC,GACM,EAA2B,EAAc,EACzC,EAA2B,EAAc,SAE/C,AAAI,GAAiB,GAA4B,EAC/C,SAGF,OACF,EAoE+C,GAAA,GAzE8B,KA0ErE,EA9DD,AA8DkB,SA9DT,AAAsB,CAAoB,EACxD,OAAQ,GACN,IAAA,QAMA,QALE,OAAO,CACT,KAAA,SACE,OAAO,GACT,KAAA,QACE,OAAO,IAGX,CACF,EAmD+C,GACvC,EAAY,EA1BlB,AAAI,GAAa,KAAe,EA0BF,CA1BL,AACrB,EADsC,CACzB,IAAe,IAAP,AACrB,EADsC,CACzB,KAAe,EAC5B,CADqB,EACR,AAD0B,IACX,AAHoC,IAG3C,CACrB,CADuC,EAC1B,EAHkD,GAGpC,EAAP,EACpB,AAqBuC,CAtBA,EAC1B,CAHmD,GAGrC,GAAP,EACpB,CADuC,EAF0B,AAGpD,KAAc,EAAP,EACpB,CADuC,EAC1B,AAHoD,IAGtC,GAAP,EACjB,CADoC,CAFyB,AAqBZ,GAlBP,MAqB7C,AAAJ,GAvBoE,AAuBnD,GAAa,IACrB,CACL,EAFiC,EAtB+B,CAwB1D,CAvB8D,WAwBpE,EACA,cAAe,EAAiB,GAChC,UAAW,MACb,EAMK,CACL,KAHgB,CADD,AAIT,EAJc,IAAI,CAAG,CAAA,EACA,YAI3B,EACA,cAAe,EAAiB,GAChC,UAAyB,IAAd,EAAoB,WAAa,CAAA,EAAG,KAAK,KAAK,CAAC,CAAC,EAAI,CAAA,CAAS,CAAI,KAAK,EAAE,EAAE,EAAY,EAAI,WAAa,YAAA,CAAa,AACjI,CACF"}