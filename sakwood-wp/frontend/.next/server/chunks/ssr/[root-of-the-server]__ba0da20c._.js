module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},42455,a=>{"use strict";var b=a.i(94413),c=a.i(75129);function d({items:a,lang:d}){return(0,b.jsx)("nav",{className:"py-4 px-6 bg-slate-50 border-b border-slate-200","aria-label":"Breadcrumb navigation",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsx)("ol",{className:"flex items-center gap-2 text-sm text-slate-600",children:a.map((d,e)=>(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[e>0&&(0,b.jsx)("span",{className:"text-slate-400","aria-hidden":"true",children:"/"}),e===a.length-1?(0,b.jsx)("span",{className:"font-medium text-slate-900","aria-current":"page",children:d.name}):(0,b.jsx)(c.default,{href:d.href,className:"hover:text-blue-600 transition-colors",children:d.name})]},d.href))})})})}a.s(["Breadcrumbs",()=>d])},15171,a=>{"use strict";let b=(0,a.i(89384).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],15171)},20190,a=>{"use strict";let b=(0,a.i(89384).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],20190)},42225,a=>{"use strict";let b=(0,a.i(89384).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],42225)},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},96350,a=>{"use strict";let b=(0,a.i(89384).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],96350)},36501,a=>{"use strict";let b=(0,a.i(89384).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],36501)},90592,a=>{"use strict";let b=(0,a.i(89384).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],90592)},85055,a=>{"use strict";var b,c=((b={}).SMALL="small",b.MEDIUM="medium",b.LARGE="large",b);let d=[{province:"Pathumtani",rate:5e3,estimatedDays:"1"},{province:"Nonthaburi",rate:5e3,estimatedDays:"1-2"},{province:"Samut Prakan",rate:5e3,estimatedDays:"1-2"},{province:"Nakhon Pathom",rate:5e3,estimatedDays:"1-2"},{province:"Samut Sakhon",rate:5e3,estimatedDays:"1-2"},{province:"Phra Nakhon Si Ayutthaya",rate:6500,estimatedDays:"2-3"},{province:"Ang Thong",rate:2e3,estimatedDays:"2-3"},{province:"Lopburi",rate:2e3,estimatedDays:"2-3"},{province:"Saraburi",rate:2e3,estimatedDays:"2-3"},{province:"Sing Buri",rate:2e3,estimatedDays:"2-3"},{province:"Chai Nat",rate:2e3,estimatedDays:"2-3"},{province:"Suphan Buri",rate:2e3,estimatedDays:"2-3"},{province:"Kanchanaburi",rate:2500,estimatedDays:"2-3"},{province:"Ratchaburi",rate:2500,estimatedDays:"2-3"},{province:"Phetchaburi",rate:2500,estimatedDays:"2-3"},{province:"Prachuap Khiri Khan",rate:3e3,estimatedDays:"3-4"},{province:"Chonburi",rate:2500,estimatedDays:"2-3"},{province:"Rayong",rate:2500,estimatedDays:"2-3"},{province:"Chanthaburi",rate:3e3,estimatedDays:"3-4"},{province:"Trat",rate:3e3,estimatedDays:"3-4"},{province:"Chachoengsao",rate:2e3,estimatedDays:"2-3"},{province:"Prachinburi",rate:2e3,estimatedDays:"2-3"},{province:"Sa Kaeo",rate:2500,estimatedDays:"2-3"},{province:"Nakhon Nayok",rate:2e3,estimatedDays:"2-3"},{province:"Kamphaeng Phet",rate:4e3,estimatedDays:"3-4"},{province:"Tak",rate:4e3,estimatedDays:"3-4"},{province:"Uthai Thani",rate:3500,estimatedDays:"3-4"},{province:"Nakhon Sawan",rate:3e3,estimatedDays:"2-3"},{province:"Phichit",rate:3500,estimatedDays:"3-4"},{province:"Phitsanulok",rate:3500,estimatedDays:"3-4"},{province:"Phichai",rate:3500,estimatedDays:"3-4"},{province:"Phetchabun",rate:3500,estimatedDays:"3-4"},{province:"Chiang Mai",rate:7500,estimatedDays:"4-5"},{province:"Lamphun",rate:7500,estimatedDays:"4-5"},{province:"Lampang",rate:7500,estimatedDays:"4-5"},{province:"Uttaradit",rate:4500,estimatedDays:"4-5"},{province:"Phrae",rate:4500,estimatedDays:"4-5"},{province:"Nan",rate:7500,estimatedDays:"4-5"},{province:"Phayao",rate:7500,estimatedDays:"4-5"},{province:"Chiang Rai",rate:9e3,estimatedDays:"4-5"},{province:"Mae Hong Son",rate:1e4,estimatedDays:"5-6"},{province:"Nakhon Ratchasima",rate:3500,estimatedDays:"3-4"},{province:"Buri Ram",rate:3500,estimatedDays:"3-4"},{province:"Surin",rate:3500,estimatedDays:"3-4"},{province:"Sisaket",rate:3500,estimatedDays:"3-4"},{province:"Ubon Ratchathani",rate:4e3,estimatedDays:"4-5"},{province:"Yasothon",rate:3500,estimatedDays:"3-4"},{province:"Chaiyaphum",rate:3500,estimatedDays:"3-4"},{province:"Amnat Charoen",rate:4e3,estimatedDays:"4-5"},{province:"Nong Bua Lamphu",rate:4e3,estimatedDays:"4-5"},{province:"Khon Kaen",rate:4e3,estimatedDays:"4-5"},{province:"Udon Thani",rate:4e3,estimatedDays:"4-5"},{province:"Loei",rate:4e3,estimatedDays:"4-5"},{province:"Nong Khai",rate:4e3,estimatedDays:"4-5"},{province:"Maha Sarakham",rate:5e3,estimatedDays:"4-5"},{province:"Roi Et",rate:3500,estimatedDays:"3-4"},{province:"Kalasin",rate:4e3,estimatedDays:"4-5"},{province:"Sakon Nakhon",rate:4e3,estimatedDays:"4-5"},{province:"Nakhon Phanom",rate:4e3,estimatedDays:"4-5"},{province:"Mukdahan",rate:4e3,estimatedDays:"4-5"},{province:"Chumphon",rate:4e3,estimatedDays:"4-5"},{province:"Ranong",rate:4500,estimatedDays:"4-5"},{province:"Surat Thani",rate:4500,estimatedDays:"4-5"},{province:"Phangnga",rate:5e3,estimatedDays:"5-6"},{province:"Phuket",rate:5e3,estimatedDays:"5-6"},{province:"Krabi",rate:5e3,estimatedDays:"5-6"},{province:"Phatthalung",rate:4500,estimatedDays:"4-5"},{province:"Trang",rate:4500,estimatedDays:"4-5"},{province:"Satun",rate:5e3,estimatedDays:"5-6"},{province:"Songkhla",rate:4500,estimatedDays:"4-5"},{province:"Yala",rate:5e3,estimatedDays:"5-6"},{province:"Narathiwat",rate:5e3,estimatedDays:"5-6"},{province:"Pattani",rate:5e3,estimatedDays:"5-6"},{province:"Nakhon Si Thammarat",rate:4500,estimatedDays:"4-5"}];function e(a){let b=a.toLowerCase().trim();return d.find(a=>a.province.toLowerCase()===b)||{province:a,rate:6e3,estimatedDays:"5-7"}}function f(){return d.map(a=>a.province).sort()}function g(a){switch(a){case"small":return"Small Truck (6-wheel)";case"medium":return"Medium Truck (10-wheel)";case"large":return"Large Truck (10-wheel)";default:return"Standard Truck"}}function h(a,b,c){let d=e(a),f=c?function(a){let b=0,c=0;a.forEach(a=>{let d="string"==typeof a.length?parseFloat(a.length)||0:a.length||0,e=a.volume||0;b+=d*a.quantity,c+=e*a.quantity});let d=a.some(a=>("string"==typeof a.length?parseFloat(a.length)||0:a.length||0)>=6),e=b>12,f=c>5;if(d||e||f)return"large";let g=a.some(a=>{let b="string"==typeof a.length?parseFloat(a.length)||0:a.length||0;return b>=3&&b<6}),h=b>6,i=c>2;return g||h||i?"medium":"small"}(c):"small",h=function(a){switch(a){case"small":default:return 0;case"medium":return 500;case"large":return 1500}}(f),i=b?b>=25e4?.9:b>=2e5?.95:b>=15e4?1:b>=1e5?1.05:b>=75e3?1.1:b>=5e4?1.15:b>=25e3?1.2:b>=1e4?1.25:1:1;return b&&b>=1e4?{cost:0,truckType:f,truckTypeName:g(f),priceTier:"Free"}:{cost:(d.rate+h)*i,truckType:f,truckTypeName:g(f),priceTier:1===i?"Standard":`${Math.round((1-i)*100)}% ${i<1?"Discount":"Surcharge"}`}}a.s(["TruckType",()=>c,"calculateShippingCost",()=>h,"getAllProvinces",()=>f,"getShippingRate",()=>e])},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},14631,a=>{"use strict";var b=a.i(94413),c=a.i(75129),d=a.i(46069),e=a.i(42455),f=a.i(89384);let g=(0,f.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var h=a.i(15171),i=a.i(36501),j=a.i(15290);let k=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=process.env.NEXT_PUBLIC_APP_URL||"/api/orders";async function m(a){let b=l.startsWith("http")?l:`${window.location.origin}${l}`,c=await fetch(`${b}/${a}`,{next:{revalidate:10}});if(!c.ok)throw Error(`Failed to fetch order status: ${c.statusText}`);return await c.json()}async function n(a,b=60,c=5e3,d,e){let f=0;for(;f<b;){if(e?.aborted)throw Error("Polling aborted");try{let g=await m(a),h={pending:{paid:!1,status:"pending",message:"Waiting for payment confirmation. We will notify you when payment is received."},processing:{paid:!0,status:"processing",message:"Payment received! Your order is being processed."},completed:{paid:!0,status:"completed",message:"Payment confirmed and order completed!"},cancelled:{paid:!1,status:"cancelled",message:"This order has been cancelled."},failed:{paid:!1,status:"failed",message:"Payment failed. Please contact support."},refunded:{paid:!1,status:"refunded",message:"Payment has been refunded."},on_hold:{paid:!1,status:"on_hold",message:"Order is on hold."}}[g.status]||{paid:!1,status:"unknown",message:"Unable to determine payment status."};if(d&&d(h),h.paid||["completed","cancelled","failed","refunded"].includes(g.status))return h;++f<b&&await new Promise((a,b)=>{let d=setTimeout(a,c);e?.addEventListener("abort",()=>{clearTimeout(d),b(Error("Polling aborted"))})})}catch(a){if(e?.aborted||a instanceof Error&&"Polling aborted"===a.message)throw Error("Polling aborted");console.error(`Error polling order status (attempt ${f+1}):`,a),++f<b&&await new Promise((a,b)=>{let d=setTimeout(a,c);e?.addEventListener("abort",()=>{clearTimeout(d),b(Error("Polling aborted"))})})}}return{paid:!1,status:"timeout",message:"Payment verification timed out. Please check your email for confirmation or contact support."}}function o({orderId:a,onComplete:c,className:e=""}){let[f,l]=(0,d.useState)("checking"),[m,o]=(0,d.useState)("Checking payment status..."),[p,q]=(0,d.useState)(0),[r,s]=(0,d.useState)(60),[t,u]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{let b=new AbortController;return(async()=>{try{let d=await n(a,60,5e3,a=>{!b.signal.aborted&&(o(a.message),q(a=>a+1),a.paid?(l("paid"),u(!1)):["cancelled","failed","refunded"].includes(a.status)&&(l("failed"),u(!1)))},b.signal);!b.signal.aborted&&(d.paid?(l("paid"),c?.(!0)):"timeout"===d.status?(l("timeout"),o(d.message),u(!1)):["cancelled","failed","refunded"].includes(d.status)&&(l("failed"),o(d.message),u(!1),c?.(!1)))}catch(a){if(a instanceof Error&&"Polling aborted"===a.message)return;console.error("Payment verification error:",a),b.signal.aborted||(l("timeout"),o("Unable to verify payment status. Please contact support."),u(!1))}})(),()=>{b.abort()}},[a,c]),(0,b.jsx)("div",{className:`bg-gradient-to-br ${(()=>{switch(f){case"paid":return"from-green-50 to-emerald-50 border-green-200";case"failed":return"from-red-50 to-rose-50 border-red-200";case"timeout":return"from-amber-50 to-yellow-50 border-amber-200";default:return"from-blue-50 to-indigo-50 border-blue-200"}})()} rounded-lg border-2 p-6 ${e}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,b.jsx)("div",{className:"p-4 bg-white rounded-full shadow-md",children:(()=>{switch(f){case"paid":return(0,b.jsx)(g,{className:"w-16 h-16 text-green-600"});case"failed":return(0,b.jsx)(i.XCircle,{className:"w-16 h-16 text-red-600"});case"timeout":return(0,b.jsx)(h.Clock,{className:"w-16 h-16 text-amber-600"});default:return(0,b.jsx)(j.Loader2,{className:"w-16 h-16 text-blue-600 animate-spin"})}})()}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["paid"===f&&"Payment Successful!","failed"===f&&"Payment Failed","timeout"===f&&"Verification Timeout","checking"===f&&"Verifying Payment..."]}),(0,b.jsx)("p",{className:"text-gray-700",children:m})]}),"checking"===f&&(0,b.jsxs)("div",{className:"w-full max-w-xs space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,b.jsx)("span",{children:"Checking payment status..."}),(0,b.jsxs)("span",{children:[Math.min(p,r)," / ",r]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,b.jsx)("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${p/r*100}%`}})}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"This may take a few minutes. You can leave this page and check your email."})]}),"timeout"===f&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>{l("checking"),o("Checking payment status..."),q(0),u(!0)},className:"flex items-center gap-2 px-6 py-3 bg-blue-900 text-white rounded-lg hover:bg-blue-800 transition-all font-semibold shadow-md",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Check Again"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,b.jsx)("p",{children:"Or contact our support team:"}),(0,b.jsx)("a",{href:"https://lin.ee/v86CTkq",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"LINE: @Sakwood"})]})]}),"paid"===f&&(0,b.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,b.jsxs)("p",{className:"font-semibold",children:["Order Number: #",a]}),(0,b.jsx)("p",{children:"You will receive an email confirmation shortly."})]})]})})}function p({lang:a,dictionary:f,orderId:g}){let{common:h,order_success:i}=f,[j,k]=(0,d.useState)(!1),[l,m]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{k(!0)},[]),!j)return null;let n=[{name:h.home,href:`/${a}`},{name:i.page_title,href:`/${a}/checkout/success`}],p=g?parseInt(g):null;return(0,b.jsxs)("main",{className:"min-h-screen py-12",children:[(0,b.jsx)(e.Breadcrumbs,{items:n,lang:a}),(0,b.jsxs)("div",{className:"max-w-3xl mx-auto px-6 space-y-6",children:[p&&!l&&(0,b.jsx)(o,{orderId:p,onComplete:a=>m(a)}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full",children:(0,b.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900 mb-4",children:i.thank_you}),(0,b.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:i.order_placed}),g&&(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:i.order_number}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:["#",g]})]}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:i.email_confirmation}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,b.jsx)(c.default,{href:`/${a}`,className:"px-8 py-3 bg-blue-900 text-white font-bold hover:bg-blue-800 transition-all uppercase tracking-wide rounded-none",children:i.continue_shopping}),g&&(0,b.jsx)(c.default,{href:`/${a}/order-details/${g}`,className:"px-8 py-3 border-2 border-blue-900 text-blue-900 font-bold hover:bg-blue-50 transition-all uppercase tracking-wide rounded-none",children:i.view_order})]}),(0,b.jsx)("p",{className:"mt-8 text-sm text-gray-500",children:i.contact_support})]})]})]})}a.s(["OrderSuccess",()=>p],14631)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ba0da20c._.js.map